From gregkh@linuxfoundation.org  Mon Dec 18 12:39:35 2023
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date: Mon, 18 Dec 2023 11:37:42 +0100
Subject: ksmbd: Mark as BROKEN in the 5.15.y kernel
To: stable@vger.kernel.org
Cc: linux-kernel@vger.kernel.org, Greg Kroah-Hartman <gregkh@linuxfoundation.org>, Namjae Jeon <linkinjeon@kernel.org>, Sergey Senozhatsky <senozhatsky@chromium.org>, Steve French <sfrench@samba.org>, Hyunchul Lee <hyc.lee@gmail.com>, linux-cifs@vger.kernel.org
Message-ID: <2023121841-register-nutshell-9d6d@gregkh>


Due to many known bugfixes not being backported properly to the 5.15.y
kernel tree, the ksmbd code in this branch is just not safe to be used
at this point in time at all.  So mark it as BROKEN so it will not be
used.

This can be changed in the future if all needed backports are made by
anyone who cares about this code in this stable kernel branch.

Cc: Namjae Jeon <linkinjeon@kernel.org>
Cc: Sergey Senozhatsky <senozhatsky@chromium.org>
Cc: Steve French <sfrench@samba.org>
Cc: Hyunchul Lee <hyc.lee@gmail.com>
Cc: linux-cifs@vger.kernel.org
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
---
 fs/ksmbd/Kconfig |    1 +
 1 file changed, 1 insertion(+)

--- a/fs/ksmbd/Kconfig
+++ b/fs/ksmbd/Kconfig
@@ -3,6 +3,7 @@ config SMB_SERVER
 	depends on INET
 	depends on MULTIUSER
 	depends on FILE_LOCKING
+	depends on BROKEN
 	select NLS
 	select NLS_UTF8
 	select CRYPTO
